/** 
 * @license @magicbell/magicbell-react v10.10.1
 *
 * Copyright (c) MagicBell Inc. and its affiliates.
 *
 * This source code is licensed under the license found in the
 * LICENSE file in the root directory of this source tree.
 */

var Mt = Object.defineProperty, zt = Object.defineProperties;
var At = Object.getOwnPropertyDescriptors;
var q = Object.getOwnPropertySymbols;
var nt = Object.prototype.hasOwnProperty, rt = Object.prototype.propertyIsEnumerable;
var ot = (t, o, e) => o in t ? Mt(t, o, { enumerable: !0, configurable: !0, writable: !0, value: e }) : t[o] = e, x = (t, o) => {
  for (var e in o || (o = {}))
    nt.call(o, e) && ot(t, e, o[e]);
  if (q)
    for (var e of q(o))
      rt.call(o, e) && ot(t, e, o[e]);
  return t;
}, v = (t, o) => zt(t, At(o));
var F = (t, o) => {
  var e = {};
  for (var n in t)
    nt.call(t, n) && o.indexOf(n) < 0 && (e[n] = t[n]);
  if (t != null && q)
    for (var n of q(t))
      o.indexOf(n) < 0 && rt.call(t, n) && (e[n] = t[n]);
  return e;
};
import "tiny-warning";
import { jsx as l, jsxs as P, Fragment as H } from "react/jsx-runtime";
import { useBell as Rt, useConfig as j, clientSettings as st, useNotification as Pt, useNotifications as Et, useNotificationPreferences as lt, MagicBellProvider as Nt, useMagicBellEvent as Lt } from "@magicbell/react-headless";
import { clientSettings as rn, eventAggregator as an, useMagicBellEvent as cn, useNotification as sn, useNotificationPreferences as ln, useNotificationStoresCollection as dn, useNotificationUnmount as un, useNotifications as fn } from "@magicbell/react-headless";
import { createContext as U, useContext as Z, useMemo as dt, useCallback as Tt, Children as It, forwardRef as Ot, useRef as ut, useEffect as G, useState as N, Fragment as Vt } from "react";
import Dt from "react-use/lib/useToggle";
import { jsx as a, jsxs as B } from "@emotion/react/jsx-runtime";
import { unapply as _t, pipe as Wt, filter as qt, compose as Ht, not as jt, isNil as ft, reduce as Ut, mergeDeepRight as pt, pathOr as W, path as Zt } from "ramda";
import { css as p } from "@emotion/react";
import { useLocalStorage as Gt } from "react-use";
import mt from "tinycolor2";
import Yt from "@tippyjs/react/headless";
import Kt from "react-infinite-scroll-component";
import { render as Jt, cancel as Qt } from "timeago.js";
import Xt from "react-use/lib/useInterval";
import V from "dayjs";
import te from "dayjs/plugin/localizedFormat";
import ee from "dayjs/plugin/relativeTime";
import oe from "dayjs/plugin/updateLocale";
import "dayjs/locale/es";
import "dayjs/locale/pt-br";
import "dayjs/locale/de";
import { isSupported as ne, registerServiceWorker as re, subscribe as ie } from "@magicbell/webpush";
const gt = U({}), ae = gt, Y = () => Z(gt);
function R(t, o) {
  if (t.startsWith("var("))
    return t;
  const e = mt(t);
  return e.setAlpha(o), e.toRgbString();
}
function ce(t, o) {
  return mt.mix(t, "black", o || 50).toRgbString();
}
const _ = _t(Wt(qt(Ht(jt, ft)), Ut(pt, {}))), T = {
  sans: 'Inter, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif, -apple-system, system',
  mono: 'ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'
}, f = {
  bg: "#FFFFFF",
  caption: "#181B20",
  text: "#3A424D",
  ghost: "#6E7D91",
  stroke: "#EFEEF1",
  accent: "#5225C1",
  badge: "#F80808",
  bgHighlight: "#F8F5FF",
  bgActive: "#F2EDFC",
  transparent: "transparent"
}, se = {
  headings: f.caption,
  links: f.caption,
  bold: f.caption,
  hr: f.stroke,
  quotes: f.text,
  quoteBorders: f.stroke,
  captions: f.caption,
  code: f.text,
  preCode: f.stroke,
  preBg: f.text,
  thBorders: f.stroke,
  tdBorders: f.stroke,
  buttonBorders: f.text,
  buttons: f.caption,
  fontMono: T.mono
}, le = {
  borderColor: f.accent,
  width: "24px"
}, de = {
  margin: "-8px 0 -16px 0",
  spacing: "4px",
  fontSize: "12px",
  fontWeight: 500,
  color: f.ghost,
  activeColor: f.accent
}, ht = {
  backgroundColor: f.bg,
  backgroundOpacity: 1,
  borderRadius: "16px",
  fontFamily: T.sans,
  fontSize: "15px",
  fontWeight: 400,
  textAlign: "left",
  textColor: f.accent,
  textTransform: "none",
  padding: "16px",
  borderColor: f.stroke
}, ue = v(x({}, ht), {
  fontSize: "12px",
  padding: "8px 16px"
}), fe = {
  backgroundColor: f.bgHighlight,
  backgroundOpacity: 1,
  textColor: f.text,
  fontFamily: T.sans,
  textAlign: "left",
  fontSize: "12px",
  boxShadow: `inset 0 1px 0 0 ${f.stroke}`
}, pe = {
  backgroundColor: f.badge,
  backgroundOpacity: 1,
  borderColor: "white",
  borderRadius: "4px",
  fontFamily: T.sans,
  fontWeight: 400,
  fontSize: "9px",
  textAlign: "center",
  textColor: "white",
  textTransform: "none",
  padding: "2px 3px"
}, me = {
  backgroundColor: f.bg,
  backgroundOpacity: 1,
  borderRadius: "8px",
  fontFamily: T.sans,
  fontWeight: "inherit",
  fontSize: "16px",
  textAlign: "left",
  textColor: f.text,
  textTransform: "none",
  boxShadow: "0px 0px 6px rgba(0, 0, 0, 0.08), 0px 5px 12px rgba(0, 0, 0, 0.16)",
  borderColor: f.transparent
}, bt = {
  backgroundColor: f.bg,
  backgroundOpacity: 1,
  borderRadius: "16px",
  fontFamily: T.sans,
  fontSize: "12px",
  fontWeight: 400,
  textAlign: "left",
  textColor: f.text,
  textTransform: "none",
  margin: "8px",
  padding: "16px 8px",
  title: {
    fontFamily: "inherit",
    fontSize: "inherit",
    fontWeight: 600,
    textColor: f.caption
  },
  hover: {
    backgroundColor: f.bgActive,
    backgroundOpacity: 1
  },
  state: {
    color: f.transparent
  }
}, it = v(x({}, bt), {
  backgroundColor: f.bgHighlight,
  hover: {
    backgroundColor: f.bgActive,
    backgroundOpacity: 1
  },
  state: {
    color: f.accent
  }
}), ge = {
  backgroundColor: f.bg,
  textColor: f.text,
  accentColor: f.accent
}, he = {
  prose: se,
  icon: le,
  tabs: de,
  header: ht,
  footer: ue,
  banner: fe,
  dialog: ge,
  unseenBadge: pe,
  container: me,
  notification: {
    default: bt,
    unread: it,
    unseen: it
  }
}, J = he, tt = U(J);
function be(e) {
  var n = e, { value: t = {} } = n, o = F(n, ["value"]);
  const i = dt(() => {
    var d, g, h, b, $, C, y, S, M, I, D;
    if (!t || Object.keys(t).length === 0)
      return J;
    const r = _(J, t);
    if (!t.prose)
      for (const w of Object.keys(r.prose).filter((z) => !/code|pre/i.test(z)))
        r.prose[w] = r.notification.default.textColor;
    (h = (g = (d = t.notification) == null ? void 0 : d.default) == null ? void 0 : g.title) != null && h.textColor || (r.notification.default.title.textColor = r.notification.default.textColor);
    for (const w of ["unseen", "unread"])
      r.notification[w] = _(
        r.notification[w],
        (b = t.notification) == null ? void 0 : b.default,
        ($ = t.notification) == null ? void 0 : $[w]
      );
    if (!["default", "unseen", "unread"].some(
      (w) => {
        var z, E;
        return Boolean((E = (z = t.notification) == null ? void 0 : z[w]) == null ? void 0 : E.hover);
      }
    ))
      for (const w of ["default", "unseen", "unread"]) {
        const z = r.notification[w];
        r.notification[w].backgroundOpacity = w === "default" ? 0 : 0.05, r.notification[w].hover = _(
          {
            backgroundColor: ce(z.backgroundColor, 5),
            backgroundOpacity: 0.15
          },
          (y = (C = t.notification) == null ? void 0 : C.default) == null ? void 0 : y.hover,
          (M = (S = t.notification) == null ? void 0 : S[w]) == null ? void 0 : M.hover
        );
      }
    if (!["default", "unseen", "unread"].some(
      (w) => {
        var z, E;
        return Boolean((E = (z = t.notification) == null ? void 0 : z[w]) == null ? void 0 : E.state);
      }
    ))
      for (const w of ["default", "unseen", "unread"]) {
        const z = r.notification[w], E = w === "default" ? "transparent" : r.header.backgroundColor;
        r.notification[w].state = _(z.state, { color: E });
      }
    return r.unseenBadge.borderColor = ((I = t == null ? void 0 : t.unseenBadge) == null ? void 0 : I.borderColor) || "transparent", r.container.borderColor = ((D = t == null ? void 0 : t.container) == null ? void 0 : D.borderColor) || "", r.banner = _(
      r.banner,
      {
        backgroundColor: r.notification.unseen.backgroundColor,
        backgroundOpacity: 0.1,
        textColor: r.notification.unseen.textColor,
        fontFamily: r.footer.fontFamily,
        textAlign: r.footer.textAlign,
        fontSize: r.footer.fontSize
      },
      t.banner
    ), r;
  }, [t]);
  return /* @__PURE__ */ l(tt.Provider, x({ value: i }, o));
}
const k = () => Z(tt), Ko = tt, xe = p`
  backface-visibility: visible;
  background-clip: border-box;
  background-color: transparent;
  background-origin: padding-box;
  background-position: 0 0;
  background-size: auto;
  border-radius: 0;
  border: 0;
  box-shadow: none;
  box-sizing: content-box;
  clear: none;
  clip: auto;
  color: inherit;
  cursor: auto;
  direction: inherit;
  display: block;
  left: auto;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue',
    sans-serif;
  font-size: 14px;
  font-weight: normal;
  height: auto;
  hyphens: manual;
  letter-spacing: normal;
  line-height: 1;
  margin: 0;
  max-height: none;
  max-width: none;
  min-height: 0;
  min-width: 0;
  opacity: 1;
  outline: invert none medium;
  padding: 0;
  perspective: none;
  position: static;
  right: auto;
  top: auto;
  transform: none;
  text-align: left;
  text-decoration: none;
  vertical-align: baseline;
  visibility: inherit;
  white-space: normal;
  width: auto;
  word-spacing: normal;
  z-index: auto;

  div,
  span,
  p,
  a,
  strong,
  b,
  u,
  i,
  ol,
  ul,
  li,
  form,
  label,
  table,
  tr,
  th,
  td,
  article,
  aside,
  footer,
  header,
  nav,
  section {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
  }

  a {
    cursor: pointer !important;
    color: inherit !important;
  }

  button {
    background: transparent;
    border: none;
    font-size: inherit !important;
    color: inherit;
    padding: 0;
    cursor: pointer !important;
  }
`, L = xe;
function Ce({ count: t }) {
  const o = k(), { unseenBadge: e } = o, n = p`
    align-items: center;
    background: ${R(e.backgroundColor, e.backgroundOpacity)} !important;
    border: 1px solid ${e.borderColor} !important;
    border-radius: ${e.borderRadius} !important;
    color: ${e.textColor} !important;
    display: flex;
    font-family: ${e.fontFamily} !important;
    font-size: ${e.fontSize} !important;
    font-weight: ${e.fontWeight} !important;
    padding: ${e.padding} !important;
    text-align: ${e.textAlign} !important;
    text-transform: ${e.textTransform} !important;

    div {
      width: 100%;
    }
  `;
  return /* @__PURE__ */ a("span", { css: [L, n], children: /* @__PURE__ */ a("div", { "aria-label": `${t} unread items`, "aria-live": "polite", role: "status", children: t }) });
}
function ke({ count: t }) {
  const o = k(), { icon: e } = o;
  return t === 0 ? null : /* @__PURE__ */ a(
    "div",
    {
      css: p`
        position: absolute !important;
        transform: translate(-50%, -50%) scale(${Math.max(1, parseInt(e.width) / 24)});
        top: 10%;
        left: 80%;
      `,
      children: /* @__PURE__ */ a(Ce, { count: t })
    }
  );
}
function ve() {
  const { icon: t } = k();
  return /* @__PURE__ */ P("svg", { width: t.width, height: t.width, viewBox: "0 0 27 27", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
    /* @__PURE__ */ l(
      "path",
      {
        d: "M13.5002 1.35008C14.8661 1.35476 16.1839 1.85467 17.2092 2.75708C18.2345 3.65948 18.8977 4.90313 19.0757 6.25733C19.0757 6.33833 19.0757 6.41933 19.0757 6.50033C19.0789 6.54978 19.0789 6.59938 19.0757 6.64883V6.75008C19.0757 6.83108 19.0757 6.91883 19.0757 6.99983V10.1251C19.159 12.2833 19.8161 14.3803 20.9792 16.2001C21.6542 17.4151 21.9512 17.9618 22.12 18.2251V18.2926H4.84673L4.88048 18.2251C5.04923 17.9483 5.34623 17.4083 6.00773 16.2001C7.15426 14.3755 7.7949 12.2789 7.86398 10.1251V6.98633C7.86398 6.90533 7.86398 6.82433 7.86398 6.73658V6.68258C7.86077 6.63313 7.86077 6.58353 7.86398 6.53408V6.53408C7.87283 6.44344 7.88634 6.35332 7.90448 6.26408C8.07875 4.90403 8.74341 3.65435 9.7737 2.74958C10.804 1.84482 12.1291 1.34718 13.5002 1.35008V1.35008ZM13.5002 8.14381e-05C11.8073 0.00217804 10.1728 0.619518 8.90126 1.73713C7.62966 2.85474 6.80762 4.39643 6.58823 6.07508C6.58823 6.18308 6.58823 6.28433 6.54773 6.39233C6.5413 6.47546 6.5413 6.55896 6.54773 6.64208C6.54117 6.76349 6.54117 6.88517 6.54773 7.00658V10.1251C6.46641 12.0445 5.8771 13.9079 4.83998 15.5251C3.72623 17.5501 3.69923 17.5501 3.69923 17.5501L2.94323 18.9001C2.88069 18.9728 2.84212 19.063 2.83278 19.1585C2.82344 19.2539 2.84379 19.3499 2.89105 19.4333C2.93831 19.5168 3.01018 19.5836 3.09684 19.6247C3.1835 19.6658 3.28072 19.6791 3.37523 19.6628H23.6252C23.7092 19.6655 23.7923 19.6453 23.8658 19.6046C23.9392 19.5638 24.0003 19.5039 24.0425 19.4313C24.0847 19.3586 24.1065 19.2759 24.1055 19.1919C24.1045 19.1079 24.0809 19.0257 24.037 18.9541L23.281 17.6041C23.281 17.6041 23.281 17.6041 22.1402 15.5791C21.113 13.9408 20.5421 12.0579 20.4865 10.1251V6.98633C20.493 6.86492 20.493 6.74324 20.4865 6.62183C20.4929 6.53871 20.4929 6.45521 20.4865 6.37208C20.4865 6.26408 20.4865 6.16283 20.446 6.05483C20.2227 4.3735 19.3942 2.83119 18.1157 1.71669C16.8372 0.602178 15.1963 -0.00811186 13.5002 8.14381e-05V8.14381e-05Z",
        fill: t.borderColor
      }
    ),
    /* @__PURE__ */ l(
      "path",
      {
        d: "M18.4544 23.2402C18.2681 23.5004 18.0628 23.7463 17.8401 23.976C17.2722 24.5502 16.5983 25.0087 15.8556 25.326C15.1152 25.6377 14.32 25.7982 13.5167 25.7982C12.7134 25.7982 11.9182 25.6377 11.1779 25.326C10.4352 25.0087 9.76121 24.5502 9.19335 23.976C8.96872 23.748 8.76327 23.502 8.5791 23.2402",
        stroke: t.borderColor,
        strokeWidth: "1.35",
        strokeMiterlimit: "10",
        strokeLinecap: "round"
      }
    )
  ] });
}
function ye({ Icon: t, Badge: o = ke, onClick: e, storeId: n, counter: i }) {
  const r = Rt({ storeId: n }), c = k(), { isFetchingConfig: s } = Y(), { icon: d } = c, g = () => {
    r == null || r.markAllAsSeen(), e();
  }, h = p`
    display: block;
    cursor: pointer;
    position: relative !important;
    width: ${d.width} !important;
  `, b = p`
    position: relative !important;

    & > * {
      height: 100%;
      width: 100%;
    }
  `;
  return s ? /* @__PURE__ */ a("div", { css: [L, h] }) : /* @__PURE__ */ B(
    "a",
    {
      role: "button",
      onClick: g,
      css: [L, h],
      "aria-label": "Notifications",
      "data-testid": "bell",
      "data-magicbell-bell": !0,
      children: [
        /* @__PURE__ */ a("div", { css: b, children: ft(t) ? /* @__PURE__ */ a(ve, {}) : t }),
        r && /* @__PURE__ */ a(o, { count: i === "unread" ? r == null ? void 0 : r.unreadCount : r == null ? void 0 : r.unseenCount })
      ]
    }
  );
}
function Jo() {
  const t = k(), { icon: o } = t;
  return /* @__PURE__ */ P("svg", { width: "32", height: "32", viewBox: "0 0 32 32", fill: o.borderColor, children: [
    /* @__PURE__ */ l("path", { d: "M15.9997 4.70663C14.3971 4.71182 12.8617 5.34576 11.7284 6.47013C10.5951 7.59449 9.95592 9.11801 9.95038 10.7082V15.0907C9.95038 16.4805 9.85234 17.3932 9.62941 18.1738C9.39598 18.9845 9.04584 19.5809 8.55447 20.3349C8.38874 20.5862 8.23117 20.8144 8.08761 21.0217C7.66277 21.6158 8.58949 21.7583 9.06218 21.8324C10.8129 22.115 13.2639 22.2957 16.0102 22.2957C18.7565 22.2957 21.2052 22.1196 22.9582 21.8324C24.1791 21.6344 24.0822 21.3031 23.5897 20.5584C23.0819 19.7929 22.7038 19.1791 22.44 18.3718C22.1762 17.5646 22.0467 16.6496 22.0467 15.3119V10.7082C22.0442 9.11807 21.4069 7.59366 20.2742 6.4688C19.1414 5.34394 17.6057 4.71031 16.0032 4.70663H15.9997ZM16.0032 2C18.3263 2.01068 20.551 2.93195 22.1926 4.56308C23.8342 6.19422 24.7596 8.40302 24.7673 10.7082V15.3166C24.7673 16.3589 24.8502 17.0214 25.0217 17.5414C25.1933 18.0614 25.4711 18.5085 25.8528 19.0829C26.1294 19.501 26.4048 19.8647 26.6289 20.1623C27.1588 20.8642 27.5136 21.3344 27.4996 21.976V22.0061C27.4996 23.2234 25.9263 24.0908 23.3854 24.4985C21.4713 24.8089 18.858 25 16.0009 25C13.1437 25 10.5304 24.8089 8.61516 24.4985C6.07428 24.0874 4.50214 23.2245 4.50214 22.0061V21.9957C4.46829 21.3286 4.83944 20.8306 5.40434 20.0766C5.64944 19.7489 5.95057 19.3447 6.26686 18.8629C6.61701 18.3267 6.86094 17.9201 7.001 17.4325C7.15039 16.9091 7.21575 16.2153 7.21575 15.0884V10.7082C7.22192 8.40035 8.14864 6.18875 9.79334 4.55693C11.438 2.92511 13.6669 2.00581 15.9927 2H16.0032Z" }),
    /* @__PURE__ */ l("path", { d: "M20.4988 26C20.4489 27.0446 19.9795 28.0338 19.1834 28.7721C18.7655 29.1614 18.2692 29.4702 17.7228 29.6809C17.1765 29.8916 16.5909 30 15.9994 30C15.408 30 14.8223 29.8916 14.276 29.6809C13.7296 29.4702 13.2333 29.1614 12.8154 28.7721C12.0193 28.0338 11.5499 27.0446 11.5 26C12.3651 26.0703 13.3047 26.1198 14.2916 26.1473C14.3561 26.4337 14.5025 26.6985 14.7154 26.9139C14.9283 27.1293 15.1998 27.2872 15.5013 27.371C15.8027 27.4548 16.1228 27.4613 16.4279 27.3898C16.733 27.3184 17.0116 27.1716 17.2345 26.9651C17.4739 26.7413 17.6382 26.4575 17.7072 26.1484C18.6941 26.1209 19.6337 26.0714 20.5 26.0011" })
  ] });
}
const xt = U({}), we = xt.Provider, Ct = () => Z(xt);
function K() {
  const t = Ct();
  return Tt(
    (o, e) => W(e, o.split("."), t),
    [t]
  );
}
function $e(t) {
  const o = (screen.height - 400) / 4, e = (screen.width - 600) / 2;
  window.open(t, "", `width=600,height=400,scrollbars=no,top=${o},left=${e}`);
}
function A({ id: t, defaultMessage: o, html: e = !1 }) {
  const n = Ct(), i = W(o, t.split("."), n);
  return e ? /* @__PURE__ */ l("span", { dangerouslySetInnerHTML: { __html: i } }) : /* @__PURE__ */ l(H, { children: i });
}
function kt() {
  return /* @__PURE__ */ l(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      fill: "none",
      width: "18px",
      height: "18px",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      children: /* @__PURE__ */ l("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M6 18L18 6M6 6l12 12" })
    }
  );
}
function Se({ onClick: t }) {
  return /* @__PURE__ */ a(
    "button",
    {
      onClick: () => {
        t();
      },
      "aria-label": "close notification",
      css: p`
        display: flex;
        align-items: center;

        svg {
          height: 24px;
        }
      `,
      children: /* @__PURE__ */ a(kt, {})
    }
  );
}
function Fe({ onClick: t }) {
  const o = k(), e = () => {
    t();
  };
  return /* @__PURE__ */ a(
    "button",
    {
      css: p`
        padding: 10px !important;
        border-radius: 4px !important;
        background: ${o.footer.backgroundColor} !important;
        color: ${o.footer.textColor} !important;
      `,
      onClick: e,
      children: /* @__PURE__ */ a(A, { id: "web-push-notifications.enable-now", defaultMessage: "Enable Now" })
    }
  );
}
function Be() {
  const { channels: t } = j(), o = W(!1, ["webPush", "enabled"], t), { apiKey: e, userEmail: n, userExternalId: i } = st.getState(), r = k(), [c, s] = Gt(
    `magicbell:${e}:web-push-requested-at`,
    null
  ), d = () => {
    const h = Zt(["webPush", "config", "subscribeUrl"], t), { accentColor: b, backgroundColor: $, textColor: C } = r.dialog, y = new URL(h);
    n && y.searchParams.set("user_email", n), i && y.searchParams.set("user_external_id", i), b && $ && C && (y.searchParams.set("background_color", $), y.searchParams.set("text_color", C), y.searchParams.set("accent_color", b)), s(Date.now()), $e(y.toString());
  }, g = () => {
    s(Date.now());
  };
  return c || !o ? null : /* @__PURE__ */ B(
    "div",
    {
      css: p`
        padding: 14px 24px !important;
        display: flex;
        align-items: center;
        background: ${R(r.banner.backgroundColor, r.banner.backgroundOpacity)};
        box-shadow: ${r.banner.boxShadow ? `${r.banner.boxShadow} !important` : void 0};
        color: ${r.banner.textColor} !important;
        font-family: ${r.banner.fontFamily} !important;
        text-align: ${r.banner.textAlign} !important;
        font-size: ${r.banner.fontSize} !important;
        line-height: 1.5 !important;

        & > * {
          margin-left: 1em;
        }
      `,
      children: [
        /* @__PURE__ */ a("p", { style: { flex: 1 }, children: /* @__PURE__ */ a(
          A,
          {
            id: "web-push-notifications.notice",
            defaultMessage: "By enabling browser notifications, you\u2019ll stay up to date even better."
          }
        ) }),
        /* @__PURE__ */ a(Fe, { onClick: d }),
        /* @__PURE__ */ a(Se, { onClick: g })
      ]
    }
  );
}
function Me() {
  return /* @__PURE__ */ P(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 516 100",
      role: "img",
      "aria-label": "MagicBell logo",
      fill: "currentColor",
      width: "64",
      height: "16",
      children: [
        /* @__PURE__ */ l(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M1.77 72.8a1.73 1.73 0 01-1.53-2.61l2.79-5s0 .09 4.22-7.55c3.2-5.42 6.2-12.25 6.2-20.25V26.6c0-11.05 9-26.6 26.61-26.6 9.88 0 17 4.49 21.39 10.52a.68.68 0 01.36.09l9.64 2.69a2.55 2.55 0 011.17 4.23l-5.93 6c.09 1.08.18 2.06.18 3.14v10.7c0 7.46 2.52 13.84 5.3 19l3.78 8.27s0-.09 2.6 5.57a1.76 1.76 0 01-1.61 2.52l-75.17.07zM18.85 62h2.24c4.86 0 36-4.49 36-33.34 0-7.64-5.66-17.08-17.07-17.08s-17.08 10-17.08 17.08v6.92c0 5.12-.09 10.52-2.42 16.72-.9 2.24-2.25 5-3.24 7a1.84 1.84 0 001.57 2.7zm-1 21.58a1.59 1.59 0 00-1.51 2.2v.1a22.83 22.83 0 005.35 7.37 25.108 25.108 0 008.07 5 26.818 26.818 0 0019.06 0 25.27 25.27 0 008.08-5 23 23 0 005.35-7.37v-.1a1.578 1.578 0 00-1.51-2.2h-7.46a2 2 0 00-1.58.86 13.63 13.63 0 01-1.92 2.18 15 15 0 01-4.79 3 15.87 15.87 0 01-11.3 0 15 15 0 01-4.79-3 14.157 14.157 0 01-1.92-2.18 1.93 1.93 0 00-1.53-.86h-7.6z"
          }
        ),
        /* @__PURE__ */ l("path", { d: "M491.772 9.82h-6.29a1.8 1.8 0 00-1.8 1.8v60.21a1.8 1.8 0 001.8 1.8h6.29a1.8 1.8 0 001.8-1.8V11.62a1.8 1.8 0 00-1.8-1.8zM180.451 73.63h-6.29a1.798 1.798 0 01-1.8-1.79V25.38a.448.448 0 00-.654-.396.45.45 0 00-.206.216l-12.92 29.54a1.787 1.787 0 01-1.65 1.07h-7.48a1.777 1.777 0 01-1.65-1.07L134.621 25a.45.45 0 00-.86.18v46.66a1.799 1.799 0 01-1.8 1.79h-6.29a1.798 1.798 0 01-1.8-1.79V11.62a1.811 1.811 0 011.8-1.8h11.88a1.8 1.8 0 011.65 1.08l13.55 30.83a.447.447 0 00.415.276.449.449 0 00.415-.276l13.27-30.82a1.821 1.821 0 011.66-1.09h11.94a1.8 1.8 0 011.8 1.8v60.22a1.8 1.8 0 01-.528 1.27 1.781 1.781 0 01-1.272.52zm333.2-63.81h-6.29a1.8 1.8 0 00-1.8 1.8v60.21a1.8 1.8 0 001.8 1.8h6.29a1.8 1.8 0 001.8-1.8V11.62a1.8 1.8 0 00-1.8-1.8zm-93.279 40.23a14.48 14.48 0 00-2.78-4.86 15.75 15.75 0 00-4.68-3.59 10.513 10.513 0 00-1.46-.6 20.37 20.37 0 00-2.57-.85c-.934-.15-1.876-.25-2.82-.3a.22.22 0 01-.22-.22.216.216 0 01.133-.213.218.218 0 01.087-.017 11.75 11.75 0 002.22-.57c.42-.16.84-.34 1.25-.53a11.27 11.27 0 001.09-.56 15.782 15.782 0 003.5-2.87 12.28 12.28 0 002.48-3.87c.626-1.574.932-3.257.9-4.95 0-5.31-2-9.27-5.85-12.06-3.85-2.79-9.09-4.13-15.75-4.13h-13.69a1.788 1.788 0 00-1.76 1.76h-.27v60.21a1.81 1.81 0 001.79 1.81h17.29c2.918.034 5.826-.36 8.63-1.17a21.302 21.302 0 007-3.43 14.7 14.7 0 004.69-5.58 16.826 16.826 0 001.7-7.83 16.552 16.552 0 00-.91-5.58zm-30.05-29.61a1.807 1.807 0 011.8-1.8h3.41a13.8 13.8 0 017.92 2.07c2 1.36 3 3.51 3 6.39a8.546 8.546 0 01-2.61 6.57c-1.72 1.63-4.32 2.43-7.74 2.43h-4a1.802 1.802 0 01-1.8-1.79l.02-13.87zm17.18 41.76c-1.88 1.8-4.67 2.7-8.45 2.7h-6.84a1.81 1.81 0 01-1.8-1.8V46.63a1.807 1.807 0 011.8-1.8h5.94c3.95 0 6.93.9 9 2.71a9.076 9.076 0 013.07 7.29 10.015 10.015 0 01-2.72 7.37zm-58.891-34.04a22 22 0 018 1.35 20.286 20.286 0 015.84 3.41 16.373 16.373 0 013.77 4.58 18.482 18.482 0 011.62 3.69.928.928 0 01-.9 1.17h-7.91a1.897 1.897 0 01-1.62-1 9.8 9.8 0 00-4-3.87 12.139 12.139 0 00-13.3 2.16 15.26 15.26 0 00-4.4 11.06 14.872 14.872 0 006.74 12.59 11.998 11.998 0 006.25 1.7c2.78 0 4.94-.63 6.47-2a12.785 12.785 0 002.87-3.51 1.736 1.736 0 011.53-.9h7.88a.892.892 0 01.81 1.26 27.933 27.933 0 01-2.07 4.41 20.468 20.468 0 01-4 4.76 19.534 19.534 0 01-5.84 3.33 23.275 23.275 0 01-7.82 1.25 24.747 24.747 0 01-9-1.61 19.527 19.527 0 01-7.19-4.68 20.684 20.684 0 01-4.76-7.19 24 24 0 01-1.71-9.34c-.029-2.97.507-5.92 1.58-8.69a22.502 22.502 0 014.49-7.19 20.002 20.002 0 017.1-4.86 22.152 22.152 0 019.57-1.88zM311.352 9.98h-1.07a5.02 5.02 0 00-5.02 5.02v.03a5.02 5.02 0 005.02 5.02h1.07a5.02 5.02 0 005.02-5.02V15a5.02 5.02 0 00-5.02-5.02zm2.529 18.34h-6.21a1.8 1.8 0 00-1.8 1.8V72a1.8 1.8 0 001.8 1.8h6.21a1.8 1.8 0 001.8-1.8V30.12a1.8 1.8 0 00-1.8-1.8zm138.419-.16a21 21 0 019.54 2 20.408 20.408 0 016.67 5.13 20.992 20.992 0 013.87 7.12 24.435 24.435 0 011.26 8v1.17a1.811 1.811 0 01-1.8 1.8h-29.18a1.855 1.855 0 00-1.393.669 1.855 1.855 0 00-.407 1.49c.174.898.446 1.773.81 2.61a13.625 13.625 0 002.79 4 13.852 13.852 0 004.05 2.7 11.237 11.237 0 004.87 1 11.88 11.88 0 005.58-1.26 11.46 11.46 0 003.42-2.88 1.883 1.883 0 011.44-.72h7.93a.917.917 0 01.916.896.912.912 0 01-.106.455 34.624 34.624 0 01-2.11 3.37 17.758 17.758 0 01-4.15 4.05 20.816 20.816 0 01-5.67 2.79 22.407 22.407 0 01-7.2 1.08 23.368 23.368 0 01-9.1-1.71 22.352 22.352 0 01-7.2-4.77 22.07 22.07 0 01-4.68-7.29 26.313 26.313 0 01-1.71-9.37 24.373 24.373 0 011.44-8.55 22.56 22.56 0 014.27-7.12A20.252 20.252 0 01443.2 30a21.319 21.319 0 019.1-1.84zm0 7.47a10.74 10.74 0 00-4.6.9 12.005 12.005 0 00-3.51 2.34 10.581 10.581 0 00-2.34 3.34 9.559 9.559 0 00-.63 1.71 1.745 1.745 0 00.278 1.563 1.739 1.739 0 001.432.687h18.64a1.77 1.77 0 001.71-2.25 11.534 11.534 0 00-6.57-7.48 11.661 11.661 0 00-4.41-.81zM228.341 30v4a.438.438 0 01-.287.423.44.44 0 01-.493-.133c-.46-.52-1-1-1.48-1.58a14.818 14.818 0 00-3-2.31 17.44 17.44 0 00-3.88-1.65 17.008 17.008 0 00-4.81-.62 20.608 20.608 0 00-8.18 1.64 20.917 20.917 0 00-6.76 4.62 21.275 21.275 0 00-4.58 7.11 24.481 24.481 0 00-1.69 9.26 25.154 25.154 0 001.82 10 21.997 21.997 0 004.76 7.16 19.298 19.298 0 006.59 4.32 19.886 19.886 0 007.29 1.42 17.14 17.14 0 008.86-2.09 23.029 23.029 0 005.05-4 .45.45 0 01.77.31v4a1.798 1.798 0 001.8 1.79h6.33a1.8 1.8 0 001.8-1.79V30a1.803 1.803 0 00-1.8-1.79h-6.29a1.8 1.8 0 00-1.82 1.79zm0 25.5a10.7 10.7 0 01-.44 1.23 14.142 14.142 0 01-2.8 4.36 12.612 12.612 0 01-4 2.84 14.359 14.359 0 01-5.73 1 12.366 12.366 0 01-4.79-1.18 11.64 11.64 0 01-4-3.21 13.211 13.211 0 01-2.4-4.54 18.2 18.2 0 01-.75-5.2c.002-1.735.276-3.46.81-5.11a13.713 13.713 0 012.4-4.54 11.64 11.64 0 014-3.21 12.939 12.939 0 015.81-1.24 12.002 12.002 0 014.9 1 11.71 11.71 0 014 2.88 13.68 13.68 0 012.67 4.54c.136.357.253.72.35 1.09.43 1.56.642 3.172.63 4.79a14.914 14.914 0 01-.66 4.45v.05zm55.03-25.5v4a.452.452 0 01-.79.29c-.45-.52-.94-1-1.48-1.58a14.54 14.54 0 00-3-2.31 17.35 17.35 0 00-3.87-1.65 17.003 17.003 0 00-4.81-.62 20.618 20.618 0 00-14.9 6.23 21.29 21.29 0 00-4.58 7.11 24.321 24.321 0 00-1.69 9.26c-.08 3.422.54 6.825 1.82 10a21.996 21.996 0 004.76 7.16 19.372 19.372 0 006.58 4.32 19.998 19.998 0 007.3 1.42 17.07 17.07 0 008.85-2.09 22.993 22.993 0 005.06-4 .45.45 0 01.77.31v6.37c.01.19.01.38 0 .57a12.692 12.692 0 01-12.74 12 16.071 16.071 0 01-9.47-2.79 5.679 5.679 0 01-1.83-2.15 1.825 1.825 0 00-1.68-1.19h-7.52a.906.906 0 00-.859.626.893.893 0 00-.041.374c.144 1.849.69 3.644 1.6 5.26.215.396.452.78.71 1.15 3.8 5.5 11.63 8.69 19.05 8.69a22.599 22.599 0 0022.62-21.39V30a1.782 1.782 0 00-1.086-1.696 1.798 1.798 0 00-.694-.144h-6.29a1.794 1.794 0 00-1.668 1.14 1.783 1.783 0 00-.122.7zm-.44 26.73a14.162 14.162 0 01-2.81 4.27 12.523 12.523 0 01-4 2.85c-1.497.67-3.12 1.01-4.76 1a12.908 12.908 0 01-5.74-1.21 11.688 11.688 0 01-4.05-3.21 12.992 12.992 0 01-2.36-4.43 18.2 18.2 0 01-.75-5.2 16.662 16.662 0 01.8-5.11 13.732 13.732 0 012.4-4.54 11.69 11.69 0 014.05-3.21 12.911 12.911 0 015.74-1.24 12.063 12.063 0 014.9 1 11.701 11.701 0 014 2.88 13.663 13.663 0 012.67 4.54c.13.36.25.72.35 1.09a17.43 17.43 0 01.63 4.66V51a14.9 14.9 0 01-.63 4.42c-.125.427-.272.848-.44 1.26v.05z" })
      ]
    }
  );
}
function ze() {
  const t = j((n) => n.inbox), o = W(!1, ["features", "noMagicbellBranding", "enabled"], t), e = p`
    height: 20px;
    display: inline-flex;
    align-items: center;
  `;
  return o ? /* @__PURE__ */ a("div", { css: e }) : /* @__PURE__ */ a("div", { css: e, children: /* @__PURE__ */ a("a", { href: "https://magicbell.io/?utm_source=widget", target: "_blank", rel: "noopener noreferrer", children: /* @__PURE__ */ a(Me, {}) }) });
}
function Ae({ children: t }) {
  const o = k(), { footer: e } = o, n = p`
    background: ${R(e.backgroundColor, e.backgroundOpacity)};
    color: ${R(e.textColor, 0.75)} !important;
    font-family: ${e.fontFamily} !important;
    font-size: ${e.fontSize} !important;
    font-weight: ${e.fontWeight} !important;
    text-align: ${e.textAlign} !important;
    padding: ${e.padding} !important;
    border-top: ${e.borderColor ? `1px solid ${e.borderColor} !important` : void 0};
    flex-shrink: 0 !important;

    &:first-of-type {
      border-radius: ${e.borderRadius} ${e.borderRadius} 0 0 !important;
    }

    &:last-of-type {
      border-radius: 0 0 ${e.borderRadius} ${e.borderRadius}!important;
    }

    span {
      color: ${e.textColor} !important;

      a {
        color: ${e.textColor};
        margin-right: 16px !important;
        opacity: 0.75;
        display: block;
      }
    }
  `;
  return /* @__PURE__ */ a("div", { css: [L, n], children: t });
}
function vt({ children: t }) {
  const o = k(), { footer: e } = o, n = p`
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: ${e.textColor} !important;

    a,
    button {
      color: ${e.textColor};
      display: block;
    }

    a {
      opacity: 0.85;
    }
  `;
  return /* @__PURE__ */ a(Ae, { children: /* @__PURE__ */ B("div", { css: n, children: [
    /* @__PURE__ */ a(ze, {}),
    t
  ] }) });
}
function Re() {
  return /* @__PURE__ */ l("svg", { width: "20", height: "20", viewBox: "0 0 20 20", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: /* @__PURE__ */ l(
    "path",
    {
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M11.4897 3.17C11.1097 1.61 8.88975 1.61 8.50975 3.17C8.45302 3.40442 8.34174 3.62213 8.18497 3.80541C8.02821 3.9887 7.83038 4.13238 7.60759 4.22477C7.38481 4.31716 7.14336 4.35564 6.90289 4.33709C6.66242 4.31854 6.42973 4.24347 6.22375 4.118C4.85175 3.282 3.28175 4.852 4.11775 6.224C4.65775 7.11 4.17875 8.266 3.17075 8.511C1.60975 8.89 1.60975 11.111 3.17075 11.489C3.40523 11.5458 3.62298 11.6572 3.80626 11.8141C3.98955 11.971 4.13319 12.1689 4.22549 12.3918C4.31779 12.6147 4.35614 12.8563 4.33742 13.0968C4.3187 13.3373 4.24343 13.5701 4.11775 13.776C3.28175 15.148 4.85175 16.718 6.22375 15.882C6.42969 15.7563 6.6624 15.6811 6.90293 15.6623C7.14347 15.6436 7.38502 15.682 7.60793 15.7743C7.83084 15.8666 8.02879 16.0102 8.18568 16.1935C8.34256 16.3768 8.45394 16.5945 8.51075 16.829C8.88975 18.39 11.1108 18.39 11.4888 16.829C11.5457 16.5946 11.6572 16.377 11.8142 16.1939C11.9711 16.0107 12.169 15.8672 12.3918 15.7749C12.6147 15.6826 12.8561 15.6442 13.0966 15.6628C13.3371 15.6815 13.5698 15.7565 13.7758 15.882C15.1477 16.718 16.7178 15.148 15.8818 13.776C15.7563 13.57 15.6812 13.3373 15.6626 13.0969C15.644 12.8564 15.6824 12.6149 15.7747 12.3921C15.8669 12.1692 16.0105 11.9713 16.1936 11.8144C16.3768 11.6575 16.5944 11.546 16.8288 11.489C18.3898 11.11 18.3898 8.889 16.8288 8.511C16.5943 8.45419 16.3765 8.34281 16.1932 8.18593C16.01 8.02904 15.8663 7.83109 15.774 7.60818C15.6817 7.38527 15.6434 7.14372 15.6621 6.90318C15.6808 6.66265 15.7561 6.42994 15.8818 6.224C16.7178 4.852 15.1477 3.282 13.7758 4.118C13.5698 4.24368 13.3371 4.31895 13.0966 4.33767C12.856 4.35639 12.6145 4.31804 12.3916 4.22574C12.1687 4.13344 11.9707 3.9898 11.8138 3.80651C11.6569 3.62323 11.5456 3.40548 11.4888 3.171L11.4897 3.17ZM9.99975 13C10.7954 13 11.5585 12.6839 12.1211 12.1213C12.6837 11.5587 12.9998 10.7956 12.9998 10C12.9998 9.20435 12.6837 8.44129 12.1211 7.87868C11.5585 7.31607 10.7954 7 9.99975 7C9.2041 7 8.44104 7.31607 7.87843 7.87868C7.31582 8.44129 6.99975 9.20435 6.99975 10C6.99975 10.7956 7.31582 11.5587 7.87843 12.1213C8.44104 12.6839 9.2041 13 9.99975 13Z",
      fill: "currentColor"
    }
  ) });
}
function Pe({ children: t }) {
  const o = k(), { header: e } = o, n = p`
    align-items: center;
    background: ${R(e.backgroundColor, e.backgroundOpacity)} !important;
    color: ${e.textColor};
    display: flex;
    font-family: ${e.fontFamily} !important;
    font-size: ${e.fontSize} !important;
    justify-content: space-between;
    text-align: ${e.textAlign} !important;
    text-transform: ${e.textTransform} !important;
    padding: ${e.padding} !important;
    flex-shrink: 0 !important;
    border-bottom: ${e.borderColor ? `1px solid ${e.borderColor} !important` : void 0};
    font-weight: ${e.fontWeight};
    height: ${e.fontSize} !important;

    &:first-of-type {
      border-radius: ${e.borderRadius} ${e.borderRadius} 0 0 !important;
    }

    &:last-of-type {
      border-radius: 0 0 ${e.borderRadius} ${e.borderRadius}!important;
    }

    & button:hover {
      opacity: 0.8;
    }

    & button:active {
      opacity: 0.9;
    }

    & button:focus {
      outline: none;
    }

    & button:focus-visible {
      outline: 2px ${e.textColor} auto !important;
    }
  `;
  return /* @__PURE__ */ a("div", { css: [L, n], children: t });
}
function yt({ title: t, actions: o }) {
  return /* @__PURE__ */ B(Pe, { children: [
    /* @__PURE__ */ a(
      "div",
      {
        role: "heading",
        css: p`
          margin-right: 16px !important;
        `,
        children: t
      }
    ),
    /* @__PURE__ */ a(
      "div",
      {
        css: p`
          height: 14px;
          overflow: visible;
          display: flex;
          align-items: center;
          & > * + * {
            margin-left: 8px;
          }
        `,
        children: o
      }
    )
  ] });
}
function Ee(t) {
  return t != null && typeof t == "object" && t.type === wt;
}
function Q({
  children: t,
  active: o,
  onChange: e
}) {
  const { tabs: n } = k(), i = p`
    margin: ${n.margin} !important;

    & > * + * {
      margin-left: ${n.spacing} !important;
    }
  `;
  return /* @__PURE__ */ a("div", { css: i, role: "tablist", children: It.toArray(t).filter(Ee).map((r, c) => v(x({}, r), {
    props: v(x({}, r.props), {
      "data-selected": o ? r.props.value === o : c === 0,
      onClick: () => e(r.props.value)
    })
  })) });
}
function wt(n) {
  var i = n, { children: t, value: o } = i, e = F(i, ["children", "value"]);
  const { tabs: r } = k(), c = p`
    &[aria-selected] {
      padding: 10px 8px 12px !important;
      font-weight: ${r.fontWeight} !important;
      line-height: 1.5 !important;
      font-size: ${r.fontSize} !important;
      color: ${r.color} !important;

      &[aria-selected='true'] {
        color: ${r.activeColor} !important;
        box-shadow: inset 0px -2px 0px ${r.activeColor};
      }
    }
  `;
  return /* @__PURE__ */ a("button", v(x({}, e), { css: c, role: "tab", "aria-selected": Boolean(e["data-selected"]), children: typeof t == "string" ? /* @__PURE__ */ a(A, { id: `tab.${o}`, defaultMessage: t }) : t }));
}
Q.Tab = wt;
function Ne({ tabsConfig: t, activeTab: o, onChange: e }) {
  return /* @__PURE__ */ l(Q, { active: o, onChange: e, children: t == null ? void 0 : t.map(({ storeId: n, label: i }) => /* @__PURE__ */ l(Q.Tab, { value: n, children: i }, n)) });
}
function et($) {
  var C = $, {
    closeOnClick: t = !1,
    children: o,
    isOpen: e,
    launcher: n,
    launcherRef: i,
    offset: r = { skidding: 0, distance: 10 },
    onClickOutside: c,
    placement: s = "bottom-end",
    popperOptions: d,
    zIndex: g = 9999,
    trigger: h = "mouseenter focus"
  } = C, b = F(C, [
    "closeOnClick",
    "children",
    "isOpen",
    "launcher",
    "launcherRef",
    "offset",
    "onClickOutside",
    "placement",
    "popperOptions",
    "zIndex",
    "trigger"
  ]);
  const S = e !== void 0 ? { visible: e } : { trigger: h }, M = () => {
    c == null || c();
  };
  return /* @__PURE__ */ l(
    Yt,
    v(x(v(x({}, b), {
      render: o,
      offset: [r.skidding, r.distance],
      onClickOutside: M,
      placement: s,
      popperOptions: d,
      reference: i,
      interactive: !t,
      zIndex: g
    }), S), {
      children: n
    })
  );
}
function $t(i) {
  var r = i, { children: t, tooltip: o, placement: e = "auto" } = r, n = F(r, ["children", "tooltip", "placement"]);
  const c = k();
  if (!o)
    return t;
  const { container: s, notification: d } = c, g = p`
    background: ${s.backgroundColor} !important;
    border-radius: 4px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    color: ${d.default.textColor} !important;
    font-size: 0.8em !important;
    padding: 0.5em !important;
    text-transform: ${d.default.textTransform};
    white-space: nowrap !important;
  `;
  return /* @__PURE__ */ a(et, v(x({ launcher: t, placement: e }, n), { children: () => /* @__PURE__ */ a("span", { css: g, children: o }) }));
}
const Le = Ot(function(c, r) {
  var s = c, { children: o, tooltip: e, tooltipPlacement: n = "bottom-end" } = s, i = F(s, ["children", "tooltip", "tooltipPlacement"]);
  return /* @__PURE__ */ l($t, { tooltip: e || i["aria-label"], placement: n, delay: 500, children: /* @__PURE__ */ l("button", v(x({ ref: r }, i), { children: o })) });
}), X = Le;
function Te() {
  return /* @__PURE__ */ l("svg", { width: "20", height: "20", viewBox: "0 0 20 20", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: /* @__PURE__ */ l(
    "path",
    {
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M10 18C12.1217 18 14.1566 17.1571 15.6569 15.6569C17.1571 14.1566 18 12.1217 18 10C18 7.87827 17.1571 5.84344 15.6569 4.34315C14.1566 2.84285 12.1217 2 10 2C7.87827 2 5.84344 2.84285 4.34315 4.34315C2.84285 5.84344 2 7.87827 2 10C2 12.1217 2.84285 14.1566 4.34315 15.6569C5.84344 17.1571 7.87827 18 10 18V18ZM13.707 8.707C13.8892 8.5184 13.99 8.2658 13.9877 8.0036C13.9854 7.7414 13.8802 7.49059 13.6948 7.30518C13.5094 7.11977 13.2586 7.0146 12.9964 7.01233C12.7342 7.01005 12.4816 7.11084 12.293 7.293L9 10.586L7.707 9.293C7.5184 9.11084 7.2658 9.01005 7.0036 9.01233C6.7414 9.0146 6.49059 9.11977 6.30518 9.30518C6.11977 9.49059 6.0146 9.7414 6.01233 10.0036C6.01005 10.2658 6.11084 10.5184 6.293 10.707L8.293 12.707C8.48053 12.8945 8.73484 12.9998 9 12.9998C9.26516 12.9998 9.51947 12.8945 9.707 12.707L13.707 8.707V8.707Z",
      fill: "currentColor"
    }
  ) });
}
function Ie() {
  const t = k(), { images: o } = Y(), { notification: e } = t;
  return /* @__PURE__ */ B(
    "div",
    {
      css: p`
        padding: 3em !important;
        text-align: center;
        color: ${e.default.textColor};

        img {
          margin: 2em auto;
          height: 200px;
        }
      `,
      children: [
        /* @__PURE__ */ a("p", { children: /* @__PURE__ */ a(A, { id: "messages.empty-inbox", defaultMessage: "All clear!<br>We'll let you know when there's more.", html: !0 }) }),
        /* @__PURE__ */ a("img", { src: (o == null ? void 0 : o.emptyInboxUrl) || "https://assets.magicbell.io/images/empty_inbox.png", alt: "No notifications" })
      ]
    }
  );
}
function St({ order: t, children: o }) {
  return /* @__PURE__ */ l(H, { children: t.map((e) => o.find((n) => (n == null ? void 0 : n.key) === e)) });
}
function Oe() {
  const { prose: t } = k();
  return p`
    && {
      line-height: 1.5;
    }

    && p {
      margin: 1.25em 0;
    }

    && a {
      color: ${t.links} !important;
      user-select: none;

      text-decoration: underline;
      &:hover {
        text-decoration: none;
      }
    }

    && button,
    && a.button {
      display: inline-block;
      color: ${t.buttons};
      font-size: 0.875em !important;
      font-family: inherit;
      border: 1px solid ${t.buttonBorders};
      border-radius: 0.375rem;
      padding: 0.5em 0.85em;
      line-height: inherit;
      background-color: transparent;
      background-image: none;
      text-decoration: none;
      user-select: none;

      &:hover,
      &:focus {
        opacity: 0.75;
      }

      &:active {
        opacity: 0.5;
      }
    }

    && button + button {
      margin-left: 0.5em;
    }

    && strong,
    && b {
      color: ${t.bold} !important;
      font-weight: 600 !important;
    }

    && ol,
    && ul {
      margin: 1.25em 0;
    }

    && ol {
      list-style: decimal;
    }

    && ul {
      list-style: disc;
    }

    && li {
      margin: 0.5em 0 0 2em;
    }

    && hr {
      border: none;
      border-top: 1px solid ${t.hr};
      margin: 3em 0;
      height: 0;
      color: inherit;
    }

    && blockquote {
      font-weight: 500;
      font-style: italic;
      color: ${t.quotes};
      border-left: 0.25rem solid ${t.quoteBorders};
      quotes: '“' '”';
      margin: 1.6em 0;
      padding-left: 1em;
    }

    && blockquote p:first-of-type::before {
      content: open-quote;
    }

    && blockquote p:last-of-type::after {
      content: close-quote;
    }

    && h1 {
      color: ${t.headings};
      font-weight: 800;
      font-size: 2.25em;
      margin: 0 0 0.9em 0;
      line-height: 1.1111111;
    }

    && h2 {
      color: ${t.headings};
      font-weight: 700;
      font-size: 1.5em;
      margin: 2em 0 1em 0;
      line-height: 1.3333333;
    }

    && h3 {
      color: ${t.headings};
      font-weight: 600;
      font-size: 1.25em;
      margin: 1.6em 0 0.6em 0;
      line-height: 1.6;
    }

    && h4,
    && h5,
    && h6 {
      color: ${t.headings};
      font-weight: 600;
      font-size: 1.1em;
      margin: 1.5em 0 0.5em 0;
      line-height: 1.5;
    }

    && figure figcaption {
      color: ${t.captions};
      font-size: 0.875em;
      line-height: 1.4285714;
      margin: 0.85em 0 0 0;
    }

    && code {
      color: ${t.code};
      font-weight: 600;
      font-size: 0.875em;
      font-family: ${t.fontMono};
    }

    && code::before {
      content: '\`';
    }

    && code::after {
      content: '\`';
    }

    && pre {
      color: ${t.preCode};
      background-color: ${t.preBg};
      overflow-x: auto;
      font-size: 0.875em;
      font-family: ${t.fontMono};
      line-height: 1.7142857;
      margin: 1.7em 0;
      border-radius: 0.375rem;
      padding: 0.85em 1.14em;
    }

    && pre code {
      background-color: transparent;
      border-width: 0;
      border-radius: 0;
      padding: 0;
      font-weight: 400;
      color: inherit;
      font-size: inherit;
      font-family: inherit;
      line-height: inherit;
    }

    && pre code::before {
      content: '';
    }

    && pre code::after {
      content: '';
    }

    && table {
      width: 100%;
      table-layout: auto;
      text-align: left;
      margin: 2em 0;
      font-size: 0.875em;
      line-height: 1.7142857;
      border-collapse: collapse;
    }

    && thead th {
      font-weight: 600;
      border-bottom: 1px solid ${t.thBorders};
      vertical-align: bottom;
      padding: 0 0.5em 0.5em 0.5em;
    }

    && tbody td {
      vertical-align: top;
      padding: 0.5em;
    }

    && tbody tr:not(:last-child) td {
      border-bottom: 1px solid ${t.tdBorders};
    }

    && img,
    && video,
    && figure {
      margin: 2em 0;
    }

    && figure > * {
      margin: 0;
    }

    && h2 code {
      font-size: 0.875em;
    }

    && h3 code {
      font-size: 0.9em;
    }

    && > ul > li p {
      margin: 0.75em 0;
    }

    /* first-child, but in a way that emotion doesn't cry */
    && > ul > li > :not(* + *),
    && > ol > li > :not(* + *) {
      margin-top: 1.25em;
    }

    && > ul > li > :last-child,
    && > ol > li > :last-child {
      margin-bottom: 1.25em;
    }

    && ul ul,
    && ul ol,
    && ol ul,
    && ol ol {
      margin: 0.75em 0;
    }

    && hr + *,
    && h2 + *,
    && h3 + *,
    && h4 + *,
    && h5 + *,
    && h6 + * {
      margin-top: 0;
    }

    && thead tr th:first-of-type,
    && tbody tr td:first-of-type {
      padding-left: 0;
    }

    && thead tr th:last-of-type,
    && tbody tr td:last-of-type {
      padding-right: 0;
    }

    && > :not(* + *) {
      margin-top: 0;
    }

    && > :last-child {
      margin-bottom: 0;
    }
  `;
}
function Ve({ notification: t, prose: o = !0 }) {
  const { sanitizedContent: e } = t, n = ut(null), i = Oe();
  if (G(() => {
    if (!n.current)
      return;
    const c = n.current.querySelectorAll("time[datetime]");
    return c.length > 0 && Jt(c), () => {
      Qt();
    };
  }, [e]), !e || e.replace(/(\n|\s|\r)/gi, "") === "")
    return null;
  const r = p`
    color: inherit !important;
    cursor: inherit;
    margin: 0;
    line-height: ${o ? "inherit" : "1.5 !important"};
    margin-top: 8px !important;
    word-break: break-word !important;
  `;
  return /* @__PURE__ */ a("article", { ref: n, css: o ? [r, i] : r, dangerouslySetInnerHTML: { __html: e } });
}
function De() {
  return /* @__PURE__ */ P("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
    /* @__PURE__ */ l("circle", { cx: "18", cy: "12", r: "1.5", fill: "currentColor" }),
    /* @__PURE__ */ l("circle", { cx: "12", cy: "12", r: "1.5", fill: "currentColor" }),
    /* @__PURE__ */ l("circle", { cx: "6", cy: "12", r: "1.5", fill: "currentColor" })
  ] });
}
function _e({ notification: t }) {
  const { isRead: o, markAsUnread: e, markAsRead: n } = t, i = k(), {
    container: r,
    notification: { default: c }
  } = i, s = () => t.delete(), d = () => o ? e() : n();
  return /* @__PURE__ */ B(
    "div",
    {
      onClick: (g) => g.preventDefault(),
      css: p`
        background: ${r.backgroundColor} !important;
        border-radius: 4px !important;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 4px 0 !important;
        color: ${c.textColor} !important;
        font-family: ${c.fontFamily} !important;
        font-size: ${c.fontSize} !important;
        text-transform: ${c.textTransform} !important;
        min-width: 10em;

        button {
          display: block;
          padding: 0.75em 1.25em !important;
          width: 100%;
          text-align: left;
          background-color: ${R(
        c.backgroundColor,
        c.backgroundOpacity
      )} !important;

          &:hover {
            background-color: ${R(
        c.hover.backgroundColor,
        c.hover.backgroundOpacity
      )} !important;
          }

          &:focus {
            outline: none;
          }

          &:focus-visible {
            outline: 2px ${c.textColor} solid !important;
          }
        }
      `,
      children: [
        /* @__PURE__ */ a("button", { type: "button", onClick: d, children: t.isRead ? /* @__PURE__ */ a(A, { id: "notification.mark-as-unread", defaultMessage: "Mark as unread" }) : /* @__PURE__ */ a(A, { id: "notification.mark-as-read", defaultMessage: "Mark as read" }) }),
        /* @__PURE__ */ a("button", { type: "button", onClick: s, children: /* @__PURE__ */ a(A, { id: "notification.delete", defaultMessage: "Delete" }) })
      ]
    }
  );
}
function We({ notification: t, menuPlacement: o = "bottom-end" }) {
  const { notification: e } = k(), n = K(), i = t.isSeen ? t.isRead ? e.default : e.unread : e.unseen, r = /* @__PURE__ */ a(
    "button",
    {
      type: "button",
      "aria-label": n("notification.menu", "Menu"),
      css: p`
        color: ${i.textColor} !important;

        &:focus {
          outline: none;
        }

        &:focus-visible {
          outline: 2px ${i.textColor} auto !important;
        }
      `,
      onClick: (c) => c.preventDefault(),
      children: /* @__PURE__ */ a(De, {})
    }
  );
  return /* @__PURE__ */ a(
    et,
    {
      launcher: r,
      offset: { skidding: -4, distance: 2 },
      placement: o,
      zIndex: 1,
      trigger: "click",
      children: () => /* @__PURE__ */ a(_e, { notification: t })
    }
  );
}
function qe() {
  return /* @__PURE__ */ l("svg", { width: "6", height: "6", viewBox: "0 0 6 6", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: /* @__PURE__ */ l("circle", { cx: "3", cy: "3", r: "3", fill: "currentColor" }) });
}
function He({ notification: t }) {
  const { notification: o } = k(), e = t.isSeen ? t.isRead ? o.default : o.unread : o.unseen;
  return /* @__PURE__ */ a(
    "div",
    {
      css: p`
        flex: none !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        width: 24px !important;
        height: 24px !important;
        color: ${e.state.color} !important;
      `,
      children: /* @__PURE__ */ a(qe, {})
    }
  );
}
V.extend(te);
V.extend(ee);
V.extend(oe);
V.updateLocale("en", {
  relativeTime: {
    future: "in %s",
    past: "%s ago",
    s: "%ds",
    m: "1m",
    mm: "%dm",
    h: "1h",
    hh: "%dh",
    d: "1d",
    dd: "%dd",
    M: "1mo",
    MM: "%dmo",
    y: "1y",
    yy: "%dy"
  }
});
function je(t) {
  return V(t);
}
function Ue({ date: t, tooltipPlacement: o = "bottom-end", delay: e = 250 }) {
  const [n] = N(() => je(t)), [i, r] = N(n.fromNow(!0));
  return Xt(() => r(n.fromNow(!0)), 6e4), /* @__PURE__ */ l($t, { tooltip: n.format("LL LT"), placement: o, delay: e, children: /* @__PURE__ */ l("div", { children: i }) });
}
function Ze(t) {
  t.actionUrl && window.open(t.actionUrl, "_self");
}
function Ge({ notification: t }) {
  const { title: o } = t, {
    notification: {
      default: { title: e }
    }
  } = k();
  return /* @__PURE__ */ a(
    "p",
    {
      id: `magicbell-notification-title-${t.id}`,
      css: p`
        cursor: inherit;
        font-weight: ${e.fontWeight} !important;
        font-family: ${e.fontFamily} !important;
        font-size: ${e.fontSize} !important;
        color: inherit !important;
        line-height: 1.2 !important;
        word-break: break-word !important;
      `,
      children: o
    }
  );
}
function Ye(n) {
  var i = n, { notification: t, children: o } = i, e = F(i, ["notification", "children"]);
  const { notification: r } = k(), c = t.isSeen ? t.isRead ? r.default : r.unread : r.unseen, s = p`
    background-color: ${R(c.backgroundColor, c.backgroundOpacity)} !important;
    border-radius: ${c.borderRadius} !important;
    color: ${c.textColor} !important;
    cursor: pointer;
    display: flex;
    align-items: center;
    font-family: ${c.fontFamily} !important;
    font-size: ${c.fontSize} !important;
    margin: ${c.margin} !important;
    padding: ${c.padding} !important;
    text-align: ${c.textAlign} !important;
    text-transform: ${c.textTransform};
    transition: background-color 300ms ease-out;
    min-height: 32px;
    position: relative !important;

    &:hover {
      background-color: ${R(c.hover.backgroundColor, c.hover.backgroundOpacity)} !important;
    }

    & > * {
      position: relative;
    }
  `;
  return /* @__PURE__ */ a("div", v(x({ css: [L, s] }, e), { children: o }));
}
function Ke({ notification: t, onClick: o, prose: e }) {
  const {
    notification: { default: n }
  } = k(), i = Pt(t), r = (d) => {
    if (d.isDefaultPrevented())
      return;
    const g = i.markAsRead();
    if (!(/^(a|button|input)$/i.test(d.target.tagName) || (o == null ? void 0 : o(i)) === !1) && i.actionUrl) {
      const $ = new Promise((C) => setTimeout(C, 1e3));
      Promise.race([g, $]).then(() => Ze(i));
    }
  }, c = p`
    margin: 0 8px !important;
    width: 100%;
  `, s = p`
    display: flex;
    padding: 0 5px !important;
    flex-direction: column;
    align-items: flex-end;
    margin-left: auto !important;
    font-size: ${n.fontSize} !important;
  `;
  return /* @__PURE__ */ B(
    Ye,
    {
      role: "button",
      "aria-labelledby": `magicbell-notification-title-${i.id}`,
      notification: i,
      onClick: r,
      children: [
        /* @__PURE__ */ a(He, { notification: i }),
        /* @__PURE__ */ B("div", { css: c, children: [
          /* @__PURE__ */ a(Ge, { notification: i }),
          /* @__PURE__ */ a(Ve, { notification: i, prose: e })
        ] }),
        /* @__PURE__ */ B("div", { css: s, children: [
          i.sentAt ? /* @__PURE__ */ a(Ue, { date: i.sentAt, tooltipPlacement: "left" }) : /* @__PURE__ */ a("div", {}),
          /* @__PURE__ */ a(We, { notification: i })
        ] })
      ]
    }
  );
}
function Je() {
  return /* @__PURE__ */ a(
    "div",
    {
      css: p`
        color: inherit !important;
        font-size: 0.85em !important;
        padding: 0.5em !important;
        text-align: center !important;
      `,
      children: "Loading..."
    }
  );
}
function Qe({
  notifications: t,
  onItemClick: o,
  height: e,
  queryParams: n,
  scrollableTarget: i,
  ListItem: r = Ke
}) {
  const c = p`
    height: 100%;

    & .infinite-scroll-component__outerdiv {
      height: 100%;
    }

    & .infinite-scroll-component {
      min-height: 100%;
    }
  `;
  return /* @__PURE__ */ a("div", { css: c, children: /* @__PURE__ */ a(
    Kt,
    {
      dataLength: t.notifications.length,
      hasMore: t.hasNextPage,
      next: () => t.fetchNextPage(n),
      loader: /* @__PURE__ */ a(Je, {}),
      height: e,
      scrollableTarget: i,
      children: t.notifications.map((s) => /* @__PURE__ */ a(r, { notification: s, onClick: o }, s.id))
    }
  ) });
}
function Xe({
  onNotificationClick: t,
  store: o,
  height: e,
  NotificationItem: n
}) {
  const [i, r] = N(null);
  return /* @__PURE__ */ a("div", { ref: r, css: { width: "100%", height: e != null ? e : "100%", overflow: "auto" }, children: i ? /* @__PURE__ */ a(
    Qe,
    {
      scrollableTarget: i,
      notifications: o,
      onItemClick: t,
      queryParams: o.context,
      ListItem: n
    }
  ) : null });
}
function to({
  layout: t,
  storeId: o,
  onNotificationClick: e,
  onAllRead: n,
  notificationPreferencesEnabled: i,
  NotificationItem: r,
  EmptyInboxPlaceholder: c = Ie,
  setView: s,
  tabs: d
}) {
  const g = K(), h = j(), [b, $] = N(o || (d == null ? void 0 : d[0].storeId)), C = Et(b);
  if (!C)
    return null;
  const y = !C.isEmpty, S = i != null ? i : W(!0, ["features", "notificationPreferences", "enabled"], h.inbox), M = () => {
    C == null || C.markAllAsRead(), n == null || n();
  }, I = d && b;
  return /* @__PURE__ */ B(St, { order: t, children: [
    /* @__PURE__ */ a(
      yt,
      {
        title: I ? I ? /* @__PURE__ */ a(Ne, { activeTab: b, onChange: $, tabsConfig: d }) : null : /* @__PURE__ */ a(A, { id: "header.title", defaultMessage: "Notifications" }),
        actions: /* @__PURE__ */ B(Vt, { children: [
          y ? /* @__PURE__ */ a(X, { onClick: M, "aria-label": g("header.mark-all-read", "Mark all read"), children: /* @__PURE__ */ a(Te, {}) }) : null,
          S ? /* @__PURE__ */ a(
            X,
            {
              onClick: () => s("preferences"),
              "aria-label": g("preferences.toggle", "Notification preferences"),
              children: /* @__PURE__ */ a(Re, {})
            }
          ) : null
        ] })
      },
      "header"
    ),
    /* @__PURE__ */ a("div", { css: { flex: 1, overflowY: "hidden" }, children: C.lastFetchedAt ? y ? /* @__PURE__ */ a(
      Xe,
      {
        store: C,
        onNotificationClick: e,
        NotificationItem: r
      }
    ) : /* @__PURE__ */ a(c, {}) : null }, "content"),
    /* @__PURE__ */ a(Be, {}, "push-notifications-banner"),
    /* @__PURE__ */ a(vt, {}, "footer")
  ] });
}
function eo({ id: t, label: o, value: e = !1, onClick: n }) {
  return /* @__PURE__ */ P("div", { children: [
    o ? /* @__PURE__ */ l("label", { htmlFor: t, style: { marginRight: "14px" }, children: o }) : null,
    /* @__PURE__ */ l("input", { id: t, type: "checkbox", onClick: () => {
      n(!e);
    }, defaultChecked: e })
  ] });
}
function oo({ category: t, onChange: o }) {
  const e = lt(), n = t.channels, i = K(), r = async (c, s) => {
    const d = {
      label: t.label,
      slug: t.slug,
      channels: [
        {
          label: c.label,
          slug: c.slug,
          enabled: s
        }
      ]
    };
    await e.save({ categories: [d] }), o == null || o({ category: d });
  };
  return /* @__PURE__ */ P(H, { children: [
    /* @__PURE__ */ l("div", { children: i(`preferences.categories.${t.slug}`, t.label) }),
    n.map((c) => /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(
      eo,
      {
        id: `${t.slug}-${c.slug}`,
        value: c.enabled,
        onClick: (s) => r(c, s)
      }
    ) }, c.slug))
  ] });
}
function no({
  channels: t,
  categories: o,
  onChange: e
}) {
  const n = lt(), i = p`
    opacity: 0.8;
    text-transform: uppercase;
    font-size: 0.7em !important;
  `;
  G(() => {
    n.lastFetchedAt || n.fetch();
  }, [n]);
  const r = dt(() => {
    var d;
    if (!((d = n.categories) != null && d.length))
      return n.categories;
    let s = n.categories;
    if (o != null && o.length) {
      const g = new Set(o);
      s = s.filter((h) => g.has(h.slug));
    }
    if (t != null && t.length) {
      const g = new Set(t);
      s = s.map((h) => v(x({}, h), {
        channels: h.channels.filter((b) => g.has(b.slug))
      }));
    }
    return s;
  }, [n.categories, t, o]);
  if (!r.length)
    return null;
  const c = r[0].channels;
  return /* @__PURE__ */ a(
    "div",
    {
      css: p`
        flex: 1;
        padding: 16px 20px !important;
        height: 100%;
        overflow-y: auto;
      `,
      children: /* @__PURE__ */ B(
        "div",
        {
          css: p`
          display: grid;
          gap: 1em;
          grid-template-columns: 2fr ${" 1fr".repeat(c.length).trim()};
        `,
          children: [
            /* @__PURE__ */ a("div", {}),
            c.map((s) => /* @__PURE__ */ a("div", { css: i, children: s.label }, s.slug)),
            r.map((s) => /* @__PURE__ */ a(oo, { category: s, onChange: e }, s.slug))
          ]
        }
      )
    }
  );
}
function ro({
  layout: t,
  setView: o,
  NotificationPreferences: e = no
}) {
  const n = K();
  return /* @__PURE__ */ B(St, { order: t, children: [
    /* @__PURE__ */ a(
      yt,
      {
        title: /* @__PURE__ */ a(A, { id: "preferences.title", defaultMessage: "Preferences" }),
        actions: /* @__PURE__ */ a(X, { onClick: () => o("inbox"), "aria-label": n("preferences.close", "Close preferences"), children: /* @__PURE__ */ a(kt, {}) })
      },
      "header"
    ),
    /* @__PURE__ */ a("div", { css: { flex: 1, overflowY: "hidden" }, children: /* @__PURE__ */ a(e, {}) }, "content"),
    /* @__PURE__ */ a(vt, {}, "footer")
  ] });
}
function io(t) {
  const o = k(), { container: e, header: n, footer: i } = o;
  let r = n;
  t[0] === "footer" ? r = i : t[0] === "container" && (r = e);
  let c = i;
  return t[t.length - 1] === "header" ? c = n : t[t.length - 1] === "container" && (c = e), [
    r.borderRadius,
    r.borderRadius,
    c.borderRadius,
    c.borderRadius
  ];
}
function ao({ height: t, children: o, layout: e }) {
  const { container: n } = k(), [i, r, c, s] = io(e);
  return /* @__PURE__ */ a(
    "div",
    {
      css: [
        L,
        p`
          background-color: ${n.backgroundColor};
          border-radius: ${i} ${r} ${c} ${s};
          color: ${n.textColor};
          display: flex;
          flex-direction: column;
          font-family: ${n.fontFamily} !important;
          font-weight: ${n.fontWeight} !important;
          height: ${t ? `${t}px` : "auto"};
          overflow: hidden;
          border: ${n.borderColor ? `1px solid ${n.borderColor} !important` : void 0};
          box-shadow: ${n.boxShadow ? `${n.boxShadow} !important` : void 0};
        `
      ],
      children: o
    }
  );
}
function co(i) {
  var r = i, {
    height: t,
    layout: o = ["header", "content", "push-notifications-banner", "footer"],
    tabs: e
  } = r, n = F(r, [
    "height",
    "layout",
    "tabs"
  ]);
  const [c, s] = N("inbox"), { isFetchingConfig: d } = Y();
  return d ? null : /* @__PURE__ */ l(ao, { height: t, layout: o, children: c === "preferences" ? /* @__PURE__ */ l(ro, v(x({}, n), { layout: o, setView: s })) : /* @__PURE__ */ l(to, v(x({}, n), { tabs: e, layout: o, setView: s })) });
}
function so({ placement: t }) {
  const o = k(), { header: e, footer: n } = o;
  return /* @__PURE__ */ a(
    "div",
    {
      "data-popper-arrow": !0,
      "data-popper-placement": t,
      css: p`
        &,
        &:before {
          position: absolute;
          width: 18px !important;
          height: 18px !important;
          z-index: -1;
          border-radius: 2px !important;
        }

        &:before {
          content: '';
          transform: rotate(45deg);
          left: 0;
        }

        &[data-popper-placement^='top'] {
          bottom: -4px;

          &:before {
            background: ${e.backgroundColor};
          }
        }

        &[data-popper-placement^='bottom'] {
          top: -4px;

          &:before {
            background: ${n.backgroundColor};
          }
        }

        &[data-popper-placement^='left'] {
          right: -4px;
        }

        &[data-popper-placement^='right'] {
          left: -4px;
        }
      `
    }
  );
}
function lo({ width: t = 400, children: o, attrs: e }) {
  return /* @__PURE__ */ a(
    "div",
    v(x({
      css: p`
        width: ${t}px;
        max-width: calc(100vw - 10px);
      `
    }, e), {
      children: o
    })
  );
}
function uo({
  launcherRef: t,
  isOpen: o,
  toggle: e,
  placement: n = "auto",
  width: i = 500,
  closeOnClickOutside: r = !0,
  popperOptions: c,
  hideArrow: s = !1,
  layout: d = ["header", "content", "push-notifications-banner", "footer"],
  children: g
}) {
  return /* @__PURE__ */ l(
    et,
    {
      isOpen: o,
      launcherRef: t,
      onClickOutside: () => {
        r && (e == null || e());
      },
      placement: n,
      popperOptions: c,
      children: (b) => /* @__PURE__ */ P(lo, { width: i, attrs: b, layout: d, children: [
        g,
        s ? null : /* @__PURE__ */ l(so, { placement: b["data-placement"] })
      ] })
    }
  );
}
function fo($) {
  var C = $, {
    launcherRef: t,
    isOpen: o,
    toggle: e,
    placement: n = "auto",
    width: i = 500,
    onNotificationClick: r,
    closeOnClickOutside: c = !0,
    closeOnNotificationClick: s = !0,
    popperOptions: d,
    hideArrow: g = !1,
    layout: h
  } = C, b = F(C, [
    "launcherRef",
    "isOpen",
    "toggle",
    "placement",
    "width",
    "onNotificationClick",
    "closeOnClickOutside",
    "closeOnNotificationClick",
    "popperOptions",
    "hideArrow",
    "layout"
  ]);
  const y = (M) => (s && (e == null || e()), r == null ? void 0 : r(M)), { isFetchingConfig: S } = Y();
  return S ? null : /* @__PURE__ */ l(
    uo,
    {
      launcherRef: t,
      isOpen: o,
      toggle: e,
      placement: n,
      width: i,
      closeOnClickOutside: c,
      popperOptions: d,
      hideArrow: g,
      layout: h,
      children: /* @__PURE__ */ l(co, x({ onNotificationClick: y, layout: h }, b))
    }
  );
}
const Ft = "MAGICBELL_NO_PROVIDER", po = U(Ft), Bt = po, mo = {
  header: {
    title: "Benachrichtigungen",
    "mark-all-read": "Alle als gelesen markieren"
  },
  notification: {
    "mark-as-read": "Als gelesen markieren",
    "mark-as-unread": "Als ungelesen markieren",
    delete: "L\xF6schen",
    menu: "Menu"
  },
  "web-push-notifications": {
    notice: "Wenn Sie Browser-Benachrichtigungen aktivieren, bleiben Sie noch besser auf dem Laufenden.",
    "enable-now": "Aktivieren"
  },
  messages: {
    "empty-inbox": "Alles Sauber!<br>Wir melden uns, wenn's was neues gibt!"
  },
  preferences: {
    title: "Einstellungen",
    toggle: "Benachrichtigungseinstellungen",
    close: "Einstellungen schlie\xDFen"
  }
}, go = mo, ho = {
  header: {
    title: "Notificaciones",
    "mark-all-read": "Marcar todo como le\xEDdo"
  },
  notification: {
    "mark-as-read": "Marcar como le\xEDdo",
    "mark-as-unread": "Marcar como no le\xEDdo",
    delete: "Eliminar",
    menu: "Menu"
  },
  "web-push-notifications": {
    notice: "Active notificaciones en su navegador para mantenerse actualizado",
    "enable-now": "Activar"
  },
  messages: {
    "empty-inbox": "\xA1No tiene notificaciones!<br>Le haremos saber cuando llegue una."
  },
  preferences: {
    title: "Preferencias",
    toggle: "Preferencias de notificaci\xF3n",
    close: "Cerrar preferencias"
  }
}, bo = ho, xo = {
  header: {
    title: "Notifica\xE7\xF5es",
    "mark-all-read": "Marcar tudo como lido"
  },
  notification: {
    "mark-as-read": "Marcar como lido",
    "mark-as-unread": "Marcar como n\xE3o lido",
    delete: "Apagar",
    menu: "Menu"
  },
  "web-push-notifications": {
    notice: "Ao ativar as notifica\xE7\xF5es do navegador, voc\xEA ficar\xE1 ainda melhor atualizado.",
    "enable-now": "Ativar"
  },
  messages: {
    "empty-inbox": "Nenhuma notifica\xE7\xE3o dispon\xEDvel!",
    "server-error": "N\xE3o conseguimos recuperar suas notifica\xE7\xF5es.<br>Por favor, volte em breve.",
    "no-internet-connection": "N\xE3o conseguimos nos conectar \xE0 Internet.<br>Por favor, verifique sua conex\xE3o."
  },
  preferences: {
    title: "Prefer\xEAncias",
    toggle: "Prefer\xEAncias de notifica\xE7\xE3o",
    close: "Fechar prefer\xEAncias"
  }
}, Co = xo;
function ko(t) {
  const o = t.toLowerCase().replace("_", "-");
  V.locale(o);
}
function vo(t) {
  const o = typeof t == "string" ? t : t.name;
  ko(o);
  const e = { es: bo, pt_BR: Co, de: go };
  return typeof t == "string" ? e[t] : pt(e, { [o]: t.translations })[o];
}
const yo = {
  appInfo: {
    name: "@magicbell/magicbell-react",
    version: "10.10.1"
  }
};
function wo(r) {
  var c = r, { children: t, theme: o, images: e, locale: n } = c, i = F(c, ["children", "theme", "images", "locale"]);
  return /* @__PURE__ */ l(Nt, v(x(x({}, yo), i), { children: /* @__PURE__ */ l($o, v(x({}, i), { theme: o, images: e, locale: n, children: t })) }));
}
function $o(r) {
  var c = r, { children: t, theme: o, locale: e, images: n } = c, i = F(c, ["children", "theme", "locale", "images"]);
  const s = !o || !e || !n, [d, g] = N({}), [h, b] = N(s);
  G(() => {
    if (!s)
      return;
    st.getState().getClient().request({
      method: "POST",
      path: "/integrations/inbox/installations"
    }).then((y) => {
      "inbox" in y && g(y.inbox);
    }).catch(() => {
    }).finally(() => b(!1));
  }, [s, i.apiKey, i.userExternalId, i.userExternalId]);
  const $ = vo(e || d.locale || "en");
  return /* @__PURE__ */ l(Bt.Provider, { value: "DEFAULT_MAGICBELL", children: /* @__PURE__ */ l(we, { value: $, children: /* @__PURE__ */ l(be, { value: o || d.theme, children: /* @__PURE__ */ l(ae.Provider, { value: { images: n || d.images, isFetchingConfig: h }, children: t }) }) }) });
}
function So(n) {
  var i = n, { children: t, apiKey: o } = i, e = F(i, ["children", "apiKey"]);
  return Z(Bt) === Ft ? o ? /* @__PURE__ */ l(wo, v(x({ apiKey: o }, e), { children: t })) : null : /* @__PURE__ */ l(H, { children: t });
}
const Fo = (t) => /* @__PURE__ */ l(fo, x({ height: 500 }, t));
function Qo(g) {
  var h = g, {
    children: t = Fo,
    BellIcon: o,
    Badge: e,
    defaultIsOpen: n = !1,
    onNewNotification: i,
    onToggle: r,
    bellCounter: c = "unseen",
    isOpen: s
  } = h, d = F(h, [
    "children",
    "BellIcon",
    "Badge",
    "defaultIsOpen",
    "onNewNotification",
    "onToggle",
    "bellCounter",
    "isOpen"
  ]);
  const b = ut(null), $ = typeof s < "u", [C, y] = Dt(n), S = $ ? s : C, M = () => {
    $ || y(), r == null || r(!S);
  };
  return Lt("notifications.new", (D) => {
    i == null || i(D);
  }), /* @__PURE__ */ l(So, v(x({}, d), { children: /* @__PURE__ */ P("div", { children: [
    /* @__PURE__ */ l("div", { ref: b, "aria-expanded": S, children: /* @__PURE__ */ l(ye, { onClick: M, Icon: o, Badge: e, counter: c }) }),
    S && t({ isOpen: S, toggle: M, launcherRef: b })
  ] }) }));
}
function Xo({
  children: t,
  serviceWorkerPath: o = "/service-worker.js",
  skipServiceWorkerRegistration: e = !1
}) {
  const n = j(), i = ne();
  return G(() => {
    e || re({ path: o }).catch((c) => {
      console.error(`Error registering service worker: ${c}`);
    });
  }, [o, e]), t({ createSubscription: async () => {
    !n || n.channels;
    const c = new URL(n.channels.webPush.config.subscribeUrl || "");
    return ie({
      host: "https://api.magicbell.com",
      project: String(c.searchParams.get("project")),
      token: String(c.searchParams.get("access_token")),
      serviceWorkerPath: o
    });
  }, isPushAPISupported: i });
}
const O = {
  sans: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',
  mono: 'ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'
}, m = {
  bg: "#FFFFFF",
  caption: "#0f172a",
  text: "#3A424D",
  stroke: "#e2e8f0",
  accent: "#3498F4",
  badge: "#DF4759",
  transparent: "transparent"
}, at = {
  backgroundColor: m.accent,
  backgroundOpacity: 1,
  borderRadius: "8px",
  fontFamily: O.sans,
  fontSize: "14px",
  fontWeight: "inherit",
  textAlign: "left",
  textColor: m.bg,
  textTransform: "uppercase"
}, tn = {
  prose: {
    headings: m.caption,
    links: m.caption,
    bold: m.caption,
    hr: m.stroke,
    quotes: m.text,
    quoteBorders: m.stroke,
    captions: m.caption,
    code: m.text,
    preCode: m.stroke,
    preBg: m.text,
    thBorders: m.stroke,
    tdBorders: m.stroke,
    buttonBorders: m.text,
    buttons: m.caption,
    fontMono: O.mono
  },
  icon: {
    borderColor: m.accent
  },
  header: v(x({}, at), {
    padding: "16px 24px"
  }),
  footer: v(x({}, at), {
    padding: "12px 24px"
  }),
  banner: {
    backgroundColor: m.accent,
    backgroundOpacity: 0.1,
    textColor: m.text,
    fontFamily: O.sans,
    textAlign: "left",
    fontSize: "12px",
    boxShadow: "none"
  },
  dialog: {
    backgroundColor: m.bg,
    textColor: m.text,
    accentColor: m.accent
  },
  unseenBadge: {
    backgroundColor: m.badge,
    backgroundOpacity: 1,
    borderRadius: "2px",
    fontFamily: O.sans,
    fontWeight: "inherit",
    fontSize: "10px",
    textAlign: "center",
    textColor: "white",
    textTransform: "none"
  },
  container: {
    backgroundColor: m.bg,
    fontFamily: O.sans,
    fontSize: "12px",
    textColor: m.text,
    boxShadow: "0px 20px 25px rgba(84, 95, 111, 0.1), 0px 10px 10px rgba(84, 95, 111, 0.04)"
  },
  notification: {
    default: {
      backgroundColor: "transparent",
      backgroundOpacity: 0,
      borderRadius: "8px",
      fontFamily: O.sans,
      fontSize: "12px",
      fontWeight: "inherit",
      textAlign: "left",
      textColor: m.text,
      textTransform: "none",
      margin: "4px",
      padding: "16px 20px 16px 12px",
      title: {
        fontFamily: "inherit",
        fontSize: "14px",
        fontWeight: 500,
        textColor: m.caption
      },
      hover: {
        backgroundColor: m.accent,
        backgroundOpacity: 0.1
      },
      state: {
        color: "transparent"
      }
    },
    unread: {
      backgroundOpacity: 0,
      state: {
        color: m.accent
      }
    },
    unseen: {
      backgroundColor: m.accent,
      backgroundOpacity: 0.05,
      state: {
        color: m.accent
      }
    }
  }
}, u = {
  bg: "#FFFFFF",
  caption: "#15091F",
  text: "#3A424D",
  stroke: "#EFEEF1",
  accent: "#5225C1",
  badge: "#F80808",
  bgHighlight: "#F7F6F9",
  bgActive: "#F0EDF8",
  transparent: "transparent"
}, ct = {
  backgroundColor: u.bg,
  borderRadius: "8px",
  textColor: u.accent,
  borderColor: u.stroke
}, en = {
  prose: {
    headings: u.caption,
    links: u.caption,
    bold: u.caption,
    hr: u.stroke,
    quotes: u.text,
    quoteBorders: u.stroke,
    captions: u.caption,
    code: u.text,
    preCode: u.stroke,
    preBg: u.text,
    thBorders: u.stroke,
    tdBorders: u.stroke,
    buttonBorders: u.text,
    buttons: u.caption
  },
  icon: {
    borderColor: u.accent
  },
  header: ct,
  footer: ct,
  banner: {
    backgroundColor: u.bg,
    backgroundOpacity: 1,
    textColor: u.text,
    fontFamily: T.sans,
    textAlign: "left",
    fontSize: "12px",
    boxShadow: `inset 0 1px 0 0 ${u.stroke}`
  },
  dialog: {
    backgroundColor: u.bg,
    textColor: u.text,
    accentColor: u.accent
  },
  unseenBadge: {
    backgroundColor: u.badge
  },
  container: {
    backgroundColor: u.bg,
    textColor: u.text,
    boxShadow: "none",
    borderColor: u.accent
  },
  notification: {
    default: {
      backgroundColor: u.bgHighlight,
      borderRadius: "0",
      textColor: u.text,
      margin: "0",
      title: {
        textColor: u.caption
      },
      hover: {
        backgroundColor: u.bgActive,
        backgroundOpacity: 1
      },
      state: {
        color: u.transparent
      }
    },
    unread: {
      backgroundColor: u.bg,
      hover: {
        backgroundColor: u.bgActive
      },
      state: {
        color: u.accent
      }
    },
    unseen: {
      backgroundColor: u.bg,
      hover: {
        backgroundColor: u.bgActive
      },
      state: {
        color: u.accent
      }
    }
  }
};
export {
  Ce as Badge,
  ye as Bell,
  ve as BellIcon,
  Jo as ClassicBellIcon,
  Ke as ClickableNotification,
  Fe as EnablePushNotificationsButton,
  uo as FloatingInboxContainer,
  fo as FloatingNotificationInbox,
  so as FloatingNotificationInboxArrow,
  vt as Footer,
  yt as Header,
  ae as MagicBellContext,
  wo as MagicBellProvider,
  Ko as MagicBellThemeContext,
  Ve as NotificationContent,
  co as NotificationInbox,
  Qe as NotificationList,
  no as NotificationPreferences,
  He as NotificationState,
  et as Popover,
  Xo as PushNotificationsSubscriber,
  Ye as StyledNotificationContainer,
  Ue as Timestamp,
  tn as classicTheme,
  rn as clientSettings,
  ce as darken,
  Qo as default,
  J as defaultMagicBellTheme,
  an as eventAggregator,
  en as flatTheme,
  he as lightTheme,
  _ as merge,
  R as toRGBA,
  Y as useMagicBellContext,
  cn as useMagicBellEvent,
  sn as useNotification,
  ln as useNotificationPreferences,
  dn as useNotificationStoresCollection,
  un as useNotificationUnmount,
  fn as useNotifications,
  k as useTheme
};
//# sourceMappingURL=magicbell-magicbell-react.esm.min.js.map
